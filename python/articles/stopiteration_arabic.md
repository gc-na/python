<!--
Meta Description: # StopIteration في بايثون: فهم واستخدام ## ملخص `StopIteration` هو استثناء في بايثون يُستخدم للإشارة إلى انتهاء التكرار في الكائنات القابلة للتكرار (i...
Meta Keywords: stopiteration, self, التكرار, استخدام, بشكل
-->

# StopIteration في بايثون: فهم واستخدام

## ملخص
`StopIteration` هو استثناء في بايثون يُستخدم للإشارة إلى انتهاء التكرار في الكائنات القابلة للتكرار (iterators). يتيح هذا الاستثناء للمطورين معرفة متى يجب التوقف عن استدعاء العناصر من كائن ما.

## الوثائق
### الغرض
يُستخدم `StopIteration` بشكل أساسي في التكرارات، حيث يقوم بإعلام حلقة `for` أو أي بنية متكررة أخرى بأن الكائن قد انتهى من توفير العناصر، مما يسمح بإيقاف العملية بسلاسة.

### الاستخدام
عند استخدام كائن قابل للتكرار، يتم استدعاء دالة `__next__()` لاسترجاع العنصر التالي. إذا لم يكن هناك عناصر متبقية، فإن `__next__()` تثير استثناء `StopIteration`. يمكن استخدام هذا الاستثناء بشكل مباشر في الدوال التي تتطلب التكرار، مثل `next()`.

### التفاصيل
- يتم استخدام `StopIteration` بشكل أساسي في الكائنات التي تنفذ بروتوكول التكرار (iteration protocol).
- لا يُنصح باستخدام `StopIteration` بشكل يدوي إلا في الحالات التي تتطلب ذلك، حيث يتم التعامل معه عادةً بواسطة حلقات التكرار تلقائيًا.

## الأمثلة
### مثال 1: استخدام `StopIteration` مع كائن قابل للتكرار
```python
class MyIterator:
    def __init__(self, limit):
        self.limit = limit
        self.count = 0

    def __iter__(self):
        return self

    def __next__(self):
        if self.count < self.limit:
            self.count += 1
            return self.count
        else:
            raise StopIteration

my_iter = MyIterator(5)
for number in my_iter:
    print(number)
```
**الناتج:**
```
1
2
3
4
5
```

### مثال 2: استخدام `next()` مع `StopIteration`
```python
my_list = [1, 2, 3]
my_iter = iter(my_list)

try:
    while True:
        item = next(my_iter)
        print(item)
except StopIteration:
    pass
```
**الناتج:**
```
1
2
3
```

## الشرح
قد يواجه المطورون بعض المشكلات عند التعامل مع `StopIteration`. من الأخطاء الشائعة التي قد تحدث:
- عدم استخدام `StopIteration` بشكل صحيح داخل الكائنات القابلة للتكرار، مما يؤدي إلى حلقات غير منتهية.
- محاولة استخدام `StopIteration` بشكل يدوي في أماكن لا تحتاج لذلك، مما قد يؤدي إلى تعقيد الشفرة.

### ملاحظات إضافية
- لا يجب أن تُدعى `StopIteration` مباشرة من قبل المستخدمين، بل يجب السماح لـ Python بالتعامل معها تلقائيًا.
- يعتبر `StopIteration` جزءًا من بروتوكول التكرار القياسي في بايثون، مما يجعله عنصرًا أساسيًا لفهم كيفية عمل التكرار في بايثون.

## ملخص جملة واحدة
`StopIteration` هو استثناء يُستخدم في بايثون للإشارة إلى انتهاء التكرار في الكائنات القابلة للتكرار.