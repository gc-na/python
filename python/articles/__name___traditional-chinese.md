<!--
Meta Description: # Python 的 __name__ 變數：深入理解與應用 ## 概要 在 Python 中，`__name__` 是一個特殊變數，用來指示當前模組的名稱。它在模組被直接執行或被導入到其他模組中時，會有不同的值，這對於控制程式執行流非常重要。 ## 文檔 `__name__` 變數的主要用途在於判...
Meta Keywords: __name__, python, my_module, __main__, greet
-->

# Python 的 __name__ 變數：深入理解與應用

## 概要
在 Python 中，`__name__` 是一個特殊變數，用來指示當前模組的名稱。它在模組被直接執行或被導入到其他模組中時，會有不同的值，這對於控制程式執行流非常重要。

## 文檔
`__name__` 變數的主要用途在於判斷當前模組是否是被直接執行。當一個 Python 文件被直接執行時，`__name__` 的值會被設定為 `'__main__'`。而如果這個模組是被其他模組導入的，則 `__name__` 的值會是該模組的名稱。

### 用法
通常，`__name__` 會與 `if` 條件語句結合使用，以確保某些代碼只在模組被直接執行時運行。例如：

```python
if __name__ == "__main__":
    # 只有在直接執行此模組時才會執行的代碼
    main()
```

這種做法允許我們在開發和測試模組時執行特定的函數或代碼塊，而在模組被導入時不會自動執行。

## 示例
以下是使用 `__name__` 的基本範例：

```python
# my_module.py
def greet():
    print("Hello from my_module!")

if __name__ == "__main__":
    greet()
```

當你直接執行 `my_module.py` 時，會輸出：

```
Hello from my_module!
```

而如果你在另一個模組中導入 `my_module`：

```python
# another_module.py
import my_module
```

則不會輸出任何內容，因為 `greet()` 函數不會被自動執行。

## 解釋
### 常見陷阱
1. **忽視 `__name__` 的重要性**：新手程序員可能會忽略使用 `__name__` 來控制代碼執行流，導致模組在導入時執行不必要的代碼。
2. **不正確的條件語句**：確保使用 `if __name__ == "__main__":` 而不是 `if __name__ == "main":`，因為後者將永遠不會為真。

### 附加說明
`__name__` 變數是一個非常有用的工具，特別是在編寫可重用的模組時。它幫助開發人員管理代碼的執行邏輯，避免不必要的副作用，並提升模組的可維護性。

## 一句總結
`__name__` 是 Python 中一個關鍵的特殊變數，能有效地幫助開發者控制模組的執行行為。