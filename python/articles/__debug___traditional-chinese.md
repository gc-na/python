<!--
Meta Description: # Python 中的 __debug__：調試模式的關鍵字 ## 摘要 `__debug__` 是一個內建的全域變數，在 Python 中用於檢查當前是否在調試模式下執行。當 Python 解釋器以優化模式運行時，`__debug__` 的值會被設置為 `False`，否則為 `True`。 ##...
Meta Keywords: __debug__, python, assert, false, print
-->

# Python 中的 __debug__：調試模式的關鍵字

## 摘要
`__debug__` 是一個內建的全域變數，在 Python 中用於檢查當前是否在調試模式下執行。當 Python 解釋器以優化模式運行時，`__debug__` 的值會被設置為 `False`，否則為 `True`。

## 文檔
`__debug__` 是 Python 的一個重要內建變數，可以幫助開發者確定當前的執行環境。當代碼通過 `python -O` 命令行選項運行時，所有的 assert 語句將會被忽略，並且 `__debug__` 會被設置為 `False`。這使得開發者可以輕鬆地切換調試和生產環境，從而更有效地管理代碼的執行。

### 用法
在 Python 程式中，可以直接使用 `__debug__` 來進行條件檢查，例如：

```python
if __debug__:
    print("正在調試模式中")
else:
    print("已經進入生產模式")
```

這段代碼將根據當前模式輸出不同的訊息。

### 詳細說明
`__debug__` 是一個布林值，主要應用於以下方面：

1. **性能優化**：在生產環境中，開發者可以選擇關閉不必要的調試信息，以提高性能。
2. **代碼完整性**：使用 assert 語句進行代碼檢查，而這些檢查在優化模式下會被自動忽略，這幫助開發者保持代碼的整潔。
3. **環境檢查**：開發者可以根據 `__debug__` 的值來決定是否執行某些調試操作，比如日誌記錄。

## 範例
以下是一個簡單的範例，演示如何使用 `__debug__` 來控制代碼的執行：

```python
def debug_function():
    assert __debug__, "這段代碼只在調試模式下執行"
    print("調試模式啟用")

debug_function()
```

如果以優化模式運行，這段代碼將不會執行 assert 語句。

## 解釋
- **常見陷阱**：開發者需注意，`__debug__` 只在未優化模式下為 `True`，在生產中使用 `python -O` 時會變為 `False`，這可能導致某些檢查被跳過。
- **用途誤解**：有些開發者可能將 `__debug__` 解讀為一個調試工具，但實際上它主要是用於環境檢查和性能優化。

## 一句總結
`__debug__` 是一個內建變數，用於判斷當前 Python 環境是否處於調試模式，幫助開發者進行代碼的性能優化及完整性檢查。