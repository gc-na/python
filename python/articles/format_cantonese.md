<!--
Meta Description: # Python 格式化字符串：使用 `format()` 函数的完全指南 ## 概述 在 Python 中，`format()` 函数是一個強大的工具，能夠方便地格式化字符串，插入變量或數據，並控制輸出格式。這使得生成易讀和結構良好的文本變得簡單。 ## 文檔 ### 目的 `format()` ...
Meta Keywords: format, python, name, greeting, age
-->

# Python 格式化字符串：使用 `format()` 函数的完全指南

## 概述
在 Python 中，`format()` 函数是一個強大的工具，能夠方便地格式化字符串，插入變量或數據，並控制輸出格式。這使得生成易讀和結構良好的文本變得簡單。

## 文檔
### 目的
`format()` 函數主要用於格式化字符串，允許用戶以指定的方式插入變量或數據。它能提高字符串的可讀性和可維護性。

### 使用方法
`format()` 函數的基本語法如下：
```python
string.format(value1, value2, ...)
```
- **string**：包含佔位符的字符串，佔位符用 `{}` 表示。
- **value1, value2, ...**：要插入的值，這些值將取代佔位符。

### 詳細說明
1. **佔位符**：在字符串中使用 `{}` 作為佔位符，`format()` 會將提供的值插入這些佔位符。
2. **位置和關鍵字參數**：
   - 可以使用位置參數，如 `{0}`, `{1}`，來指定插入的順序。
   - 使用關鍵字參數，如 `{name}`，可以更清楚地表達插入的內容。
3. **格式化選項**：使用冒號 `:` 後接格式指令，可以控制輸出的格式，例如：
   - 數字格式：`{:.2f}` 會將數字格式化為小數點後兩位。
   - 字符串對齊：`{:>10}` 會將字符串右對齊，寬度為 10。

## 示例
### 基本用法
```python
name = "Alice"
age = 30
greeting = "你好，{}！你今年{}歲。".format(name, age)
print(greeting)
```
輸出：
```
你好，Alice！你今年30歲。
```

### 使用位置參數
```python
greeting = "你好，{0}！你今年{1}歲。".format(name, age)
print(greeting)
```

### 使用關鍵字參數
```python
greeting = "你好，{name}！你今年{age}歲。".format(name="Alice", age=30)
print(greeting)
```

### 數字格式化
```python
price = 49.99
formatted_price = "商品價格是${:.2f}".format(price)
print(formatted_price)
```
輸出：
```
商品價格是$49.99
```

## 解釋
- **常見陷阱**：如果佔位符的數量與提供的值不匹配，將會引發 `IndexError`。
- **格式指令**：不同的格式指令會影響結果，要注意選擇正確的格式。
- **性能考量**：對於大量字符串操作，`f-string`（Python 3.6 及以上版本）可能更具性能優勢，但 `format()` 仍然是廣泛使用的選擇。

## 一句總結
Python 的 `format()` 函數為字符串格式化提供了靈活且易於使用的解決方案，讓開發者能夠清晰地插入和格式化數據。