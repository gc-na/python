<!--
Meta Description: # تجميع الكود في بايثون: كل ما تحتاج معرفته حول الدالة compile ## ملخص تُستخدم الدالة `compile` في بايثون لتحويل الشيفرة المصدرية المكتوبة بلغة بايثون...
Meta Keywords: compile, كود, exec, الكود, الدالة
-->

# تجميع الكود في بايثون: كل ما تحتاج معرفته حول الدالة compile

## ملخص
تُستخدم الدالة `compile` في بايثون لتحويل الشيفرة المصدرية المكتوبة بلغة بايثون إلى كود بايت يمكن تنفيذه. هذا يسمح بتجميع الكود قبل التنفيذ، مما يوفر تحسينات في الأداء ويتيح تنفيذ الشيفرات الديناميكية.

## الوثائق
### الغرض
الدالة `compile` تُستخدم لتحويل النصوص البرمجية إلى كود بايت. يمكن استخدامها لتجميع الشيفرة المصدرية التي تأتي من مصادر مختلفة، مثل إدخال المستخدم أو الملفات النصية، مما يتيح تشغيلها ككود بايثون.

### الاستخدام
تقبل الدالة `compile` ثلاثة معايير رئيسية:

```python
compile(source, filename, mode, flags=0, dont_inherit=False, optimize=-1)
```

- **source**: النص البرمجي المراد تجميعه (عادةً ما يكون سلسلة نصية).
- **filename**: اسم الملف الذي سيتم استخدامه في رسائل الأخطاء (يمكن أن يكون أي سلسلة نصية).
- **mode**: يمكن أن يكون 'exec' (لتجميع كود يمكن تنفيذه) أو 'eval' (لتجميع تعبير واحد) أو 'single' (لتجميع تعبير واحد ومن ثم تنفيذه).
- **flags**: خيارات إضافية (اختياري).
- **dont_inherit**: إذا كانت قيمة `True`، سيتم تجاهل علامات التجميع من السياق الحالي (افتراضي `False`).
- **optimize**: مستوى تحسين الكود (افتراضي `-1`).

### التفاصيل
بعد تجميع الشيفرة، يمكنك تنفيذها باستخدام الدالة `exec()` أو `eval()` حسب نوع الكود الذي تم تجميعه. استخدام `compile` مهم بشكل خاص عند التعامل مع إدخال ديناميكي أو كود يتم إنشاؤه أثناء التشغيل، حيث يسمح بتشغيل شيفرات غير معروفة مسبقاً.

## أمثلة
### مثال 1: تجميع كود قابل للتنفيذ
```python
code = """
for i in range(5):
    print(i)
"""
compiled_code = compile(code, '<string>', 'exec')
exec(compiled_code)
```

### مثال 2: تجميع تعبير
```python
expression = "5 + 3"
compiled_expr = compile(expression, '<string>', 'eval')
result = eval(compiled_expr)
print(result)  # الناتج: 8
```

### مثال 3: تجميع تعبير وحيد
```python
single_expr = "print('Hello, World!')"
compiled_single = compile(single_expr, '<string>', 'single')
exec(compiled_single)
```

## الشرح
عند استخدام `compile`، يجب الانتباه إلى بعض النقاط الهامة:
- تأكد من أن الشيفرة المصدرية صحيحة لتجنب الأخطاء أثناء التنفيذ.
- استخدام `exec` مع الكود المجمع يمكن أن يكون خطيراً إذا كان الكود يأتي من مصدر غير موثوق، لذا يجب دائمًا التحقق من صحة المدخلات.
- استخدام الوضع `eval` يقتصر على تعبير واحد فقط، في حين أن `exec` يمكنه التعامل مع كود كامل.

## ملخص بجملة واحدة
الدالة `compile` في بايثون تُستخدم لتحويل الشيفرة المصدرية إلى كود بايت قابل للتنفيذ، مما يتيح تحسين الأداء وتنفيذ الشيفرات الديناميكية.