<!--
Meta Description: # GeneratorExit في بايثون: فهم وإدارة استثناءات المولدات ## ملخص `GeneratorExit` هو استثناء خاص في بايثون يُستخدم لإدارة إنهاء المولدات (Generators) ب...
Meta Keywords: generatorexit, المولد, بشكل, المولدات, الاستثناء
-->

# GeneratorExit في بايثون: فهم وإدارة استثناءات المولدات

## ملخص
`GeneratorExit` هو استثناء خاص في بايثون يُستخدم لإدارة إنهاء المولدات (Generators) بطريقة مناسبة. يُثار هذا الاستثناء عندما يتم إنهاء مولد باستخدام الدالة `close()` أو عندما يتم حذف المولد.

## الوثائق
### الغرض
`GeneratorExit` يُعتبر جزءًا من نظام الاستثناءات في بايثون ويُستخدم بشكل أساسي في المولدات. عندما يتم استدعاء `close()` على مولد، يتم إلقاء هذا الاستثناء داخل المولد، مما يمنح المولد فرصة لتنظيف الموارد أو إنهاء العمليات الجارية بشكل صحيح.

### الاستخدام
يمكن استخدام `GeneratorExit` في المولدات لإجراء عمليات تنظيف قبل إنهاء المولد. يعتبر من المهم التعامل مع هذا الاستثناء بشكل صحيح لضمان عدم حدوث تسريبات للذاكرة أو عدم تحرير الموارد.

### التفاصيل
- يُعتبر `GeneratorExit` نوعًا من استثناء `BaseException`، وبالتالي لا يتم التعامل معه بشكل قياسي مثل الاستثناءات الأخرى.
- يُثار الاستثناء بشكل تلقائي عند استدعاء الدالة `close()` على مولد.
- يمكن للمولدات أن تتعامل مع هذا الاستثناء باستخدام `try...except`، مما يسمح لها بإجراء أي عمليات تنظيف قبل الإنهاء.

## الأمثلة
### مثال بسيط على استخدام `GeneratorExit`
```python
def my_generator():
    try:
        yield 1
        yield 2
    except GeneratorExit:
        print("تم إلقاء GeneratorExit، جاري تنظيف الموارد.")
    finally:
        print("إغلاق المولد.")

gen = my_generator()
print(next(gen))  # يطبع: 1
gen.close()       # يثير GeneratorExit
```

### مثال مع استخدام `close()`
```python
def counter():
    try:
        count = 0
        while True:
            yield count
            count += 1
    except GeneratorExit:
        print("المولد أُغلق.")

gen = counter()
print(next(gen))  # يطبع: 0
gen.close()       # يثير GeneratorExit ويطبع: "المولد أُغلق."
```

## الشرح
### الأخطاء الشائعة
- **عدم التعامل مع `GeneratorExit`:** إذا لم يتم التعامل مع هذا الاستثناء بشكل صحيح، قد يؤدي ذلك إلى تقصير المولد بشكل غير متوقع، مما قد يتسبب في تسرب الموارد.
- **الاعتقاد بأن `GeneratorExit` يُستخدم مثل الاستثناءات الأخرى:** يجب أن يُفهم أن `GeneratorExit` لا يُعالج بنفس طريقة المعالجة العادية، حيث يُعتبر جزءًا من آلية إدارة المولدات.

### ملاحظات إضافية
- يُفضل دائمًا استخدام `finally` لتنظيف الموارد عند التعامل مع `GeneratorExit`، لضمان أن العمليات الحرجة تُنفذ حتى في حالة حدوث استثناءات أخرى.

## ملخص جملة واحدة
`GeneratorExit` هو استثناء يُستخدم لإدارة إنهاء المولدات في بايثون، مما يسمح بإجراء عمليات تنظيف قبل الإنهاء.