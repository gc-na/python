<!--
Meta Description: # Python 中的 __package__ 屬性：用法與示例 ## 概述 `__package__` 是 Python 中的一個特殊屬性，主要用於模組和包的上下文中。它提供了模組所屬包的名稱，對於包的相對導入和構建包結構特別重要。 ## 文檔 ### 目的 `__package__` 屬性用來指...
Meta Keywords: __package__, python, my_package, my_module, 在使用相對導入時
-->

# Python 中的 __package__ 屬性：用法與示例

## 概述
`__package__` 是 Python 中的一個特殊屬性，主要用於模組和包的上下文中。它提供了模組所屬包的名稱，對於包的相對導入和構建包結構特別重要。

## 文檔
### 目的
`__package__` 屬性用來指示當前模組的包名稱。這在進行相對導入時尤為重要，能夠幫助 Python 解決模組之間的依賴關係。

### 用法
`__package__` 是一個字符串，通常在模組的頂部自動設置。當模組被導入時，Python 會自動填充該屬性，讓開發者了解當前模組所屬的包。

### 詳情
- `__package__` 的值會根據模組的導入方式而改變。若模組是作為包的一部分導入，則該屬性會包含包名；若作為頂層模組導入，則可能為空字符串。
- 在使用相對導入時，`__package__` 提供了必要的上下文，以便正確解析模組路徑。

## 示例
以下是一些基本的用法示例：

### 示例 1：基本使用
```python
# 在模組 my_module.py 中
print(__package__)
```
如果 `my_module` 在包 `my_package` 中，輸出將是 `my_package`。

### 示例 2：相對導入
```python
# 在 my_package/my_module.py 中
from . import another_module  # 使用相對導入
print(__package__)
```
這裡 `__package__` 會顯示 `my_package`，使得相對導入能夠正確進行。

## 解釋
- **常見陷阱**：如果直接運行一個模組而不是通過包來導入，`__package__` 可能為空字符串，這會導致相對導入失敗。
- **注意事項**：在使用相對導入時，必須確保模組是作為包的一部分來運行，否則相對導入將無法正常工作。

## 一句總結
`__package__` 屬性在 Python 中用於指示模組所屬的包名，對於正確進行模組導入至關重要。