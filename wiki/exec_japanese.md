<!--
Meta Description: # Pythonのexec文：動的なコード実行の方法 ## 概要 Pythonの`exec`文は、文字列として指定されたPythonコードを動的に実行するための機能です。この機能を使用することで、実行時に生成されたPythonコードを実行することが可能になります。 ## ドキュメンテーション `ex...
Meta Keywords: exec, python, code, print, global_dict
-->

# Pythonのexec文：動的なコード実行の方法

## 概要
Pythonの`exec`文は、文字列として指定されたPythonコードを動的に実行するための機能です。この機能を使用することで、実行時に生成されたPythonコードを実行することが可能になります。

## ドキュメンテーション
`exec`関数は、Pythonコードを実行するための組み込み関数です。基本的な構文は以下の通りです。

```python
exec(object[, globals[, locals]])
```

### パラメータ
- **object**: 実行するPythonコードが文字列またはコードオブジェクトである必要があります。
- **globals**: （オプション）グローバル名前空間を指定する辞書。指定しない場合は、現在のグローバル名前空間が使用されます。
- **locals**: （オプション）ローカル名前空間を指定する辞書。指定しない場合は、現在のローカル名前空間が使用されます。

### 使用目的
`exec`は、動的なコード生成や実行が必要な場合に非常に便利です。特に、ユーザーからの入力や外部ファイルから得たコードを実行する場面で有効です。

## 例
以下は、`exec`を使用した基本的な例です。

### 例1: 基本的なコードの実行
```python
code = 'print("Hello, World!")'
exec(code)
```

### 例2: 変数の定義と利用
```python
code = '''
x = 5
y = 10
print(x + y)
'''
exec(code)  # 出力: 15
```

### 例3: グローバル変数の利用
```python
global_dict = {}
exec('z = 20', global_dict)
print(global_dict['z'])  # 出力: 20
```

## 説明
`exec`を使用する際にはいくつかの注意点があります。

- **セキュリティリスク**: `exec`で実行されるコードは、実行環境のすべての権限を持っているため、安全性が非常に重要です。信頼できない入力を直接実行することは避けるべきです。
- **デバッグの難しさ**: 動的に生成されたコードは、静的解析が難しくなるため、エラーが発生した場合のデバッグが困難になることがあります。
- **パフォーマンス**: `exec`は通常の関数呼び出しよりも遅いため、頻繁に使用するとパフォーマンスに影響を与える可能性があります。

## 一言まとめ
`exec`はPythonで動的にコードを実行する強力な機能ですが、使用には注意が必要です。