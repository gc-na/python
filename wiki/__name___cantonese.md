<!--
Meta Description: # Python 中的 __name__ 變數：了解模組的執行環境 ## 簡介 在 Python 中，`__name__` 是一個特殊的內建變數，用於指示當前模組的名稱。這個變數對於編寫可重用的模組和確保代碼的正確執行至關重要。 ## 文檔 `__name__` 變數的主要作用是幫助區分一個模組是被...
Meta Keywords: __name__, python, __main__, my_module, print
-->

# Python 中的 __name__ 變數：了解模組的執行環境

## 簡介
在 Python 中，`__name__` 是一個特殊的內建變數，用於指示當前模組的名稱。這個變數對於編寫可重用的模組和確保代碼的正確執行至關重要。

## 文檔
`__name__` 變數的主要作用是幫助區分一個模組是被直接執行還是被其他模組導入。當一個模組被直接執行時，`__name__` 的值會被設置為 `"__main__"`；如果這個模組是被導入到其他模組中，則 `__name__` 的值會是模組的名稱。

這個特性常用於編寫可以作為腳本或模組使用的代碼，讓開發者能夠在腳本模式下執行測試代碼，而不會影響到模組的導入。

### 用法
在 Python 中，你可以通過以下方式使用 `__name__`：

```python
if __name__ == "__main__":
    # 當前模組被直接執行時，將執行這段代碼
    print("這是主程式")
else:
    # 當前模組被導入時，將執行這段代碼
    print("這是被導入的模組")
```

## 例子
以下是使用 `__name__` 的基本示例：

```python
# my_module.py
def greet():
    print("你好，世界！")

if __name__ == "__main__":
    greet()
```

如果你直接執行 `my_module.py`，你會看到輸出 "你好，世界！"。但如果你從另一個模組導入它：

```python
# another_module.py
import my_module
```

則不會有任何輸出，因為 `__name__` 的值是 `my_module` 而不是 `"__main__"`。

## 解釋
使用 `__name__` 變數時，開發者需要注意以下幾點：

1. **誤用可能導致錯誤**：如果不正確地使用 `if __name__ == "__main__":`，可能會導致測試代碼在導入模組時執行，從而產生不必要的副作用。
2. **模組重用性**：確保模組的功能可以在導入時正常工作，這樣可以提高代碼的可重用性。
3. **命名衝突**：避免將模組命名為內建模組的名稱，這可能會引起混淆。

## 一句總結
`__name__` 變數幫助開發者判斷模組的執行環境，從而編寫可重用和可測試的代碼。